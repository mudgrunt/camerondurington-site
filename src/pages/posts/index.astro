---
import Post from "../../components/Post.astro";
import Layout from "../../layouts/Layout.astro";
const response = await fetch(
  `https://wp.camerondurington.com/wp-json/wp/v2/posts?per_page=10`
);
const data = await response.json();
---

<Layout title="Posts">
  <section>
    {
      data.map((post: any) => (
        <Post
          title={post.title.rendered}
          date={post.date}
          excerpt={post.excerpt.rendered}
          slug={post.slug}
        />
      ))
    }
    {
      data.map((post: any) => (
        <Post
          title={post.title.rendered}
          date={post.date}
          excerpt={post.excerpt.rendered}
          slug={post.slug}
        />
      ))
    }
    {
      data.map((post: any) => (
        <Post
          title={post.title.rendered}
          date={post.date}
          excerpt={post.excerpt.rendered}
          slug={post.slug}
        />
      ))
    }
    {
      data.map((post: any) => (
        <Post
          title={post.title.rendered}
          date={post.date}
          excerpt={post.excerpt.rendered}
          slug={post.slug}
        />
      ))
    }
  </section>
</Layout>

<style>
  section {
    position: relative;
    padding: 24px;
    max-width: 1400px;
    width: 100%;
    height: auto;
    columns: 5;
    column-width: 300px;
    column-gap: 16px;
  }
</style>
