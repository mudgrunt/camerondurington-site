---
import { Debug } from "astro/components";
import Layout from "../../layouts/Layout.astro";
const { slug } = Astro.params;
const response = await fetch(
  `https://wp.camerondurington.com/wp-json/wp/v2/posts?slug=${slug}`
);
const data = await response.json();
---

<Layout title={data[0].title.rendered}>
  <div class="post-wrapper">
    <h1>{data[0].title.rendered}</h1>
    <p>
      {
        new Date(data[0].date).toLocaleDateString("en-US", {
          year: "numeric",
          month: "short",
          day: "numeric",
        })
      }
    </p>
    <span set:html={data[0].content.rendered} />
  </div>
</Layout>

<style>
  .post-wrapper {
    color: white;
    width: 100%;
    max-width: 900px;
    padding: 48px 24px;
  }

  p {
    margin-bottom: 24px;
  }
</style>
